# Albion Insight\n\n*Albion Online -tilastotyökalu eri alustoille.*\n\nAlbion Insight on **avoimen lähdekoodin** ja **eri alustoilla toimiva** versio alkuperäisestä Albion Online -tilastotyökalusta, joka on kirjoitettu Pythonilla. Sen tarkoituksena on tarjota pelaajille tietoa heidän pelitilastoistaan analysoimalla verkkoliikennettä.\n\n## Ominaisuudet\n\n- **Toimii eri alustoilla:** Toimii Linuxissa, Windowsissa ja macOS:ssä.\n- **Reaaliaikainen seuranta:** Seuraa tapahtumia kuten `UpdateMoney`, `UpdateFame`, `KilledPlayer` ja `Died`.\n- **Vahinko-/Parannusmittari:** Perustason toteutus vahinkomittarista, joka perustuu dekoodattuihin tapahtumiin.\n- **Kevyt graafinen käyttöliittymä:** Rakennettu Fletillä nopeaa ja responsiivista työpöytäsovellusta varten.\n\n## Asennus\n\n### Vaihtoehto 1: Pika-asennus (Linux - Suositus)\n\nLinux-käyttäjille tarjoamme automatisoidut asennusskriptit:\n\n```bash\n# 1. Kloona arkisto\ngit clone https://github.com/dexcarva/AlbionInsight.git\ncd AlbionInsight\n# 2. Suorita asennusskripti\n./install.sh\n# 3. Suorita sovellus\n./run.sh\n```\n\n`install.sh`-skripti:\n- Asentaa järjestelmäriippuvuudet (`libpcap-dev`, `python3-pip`, `python3-venv`)\n- Luo virtuaalisen Python-ympäristön\n- Asentaa kaikki tarvittavat Python-paketit (Flet, Scapy)\n\n`run.sh`-skripti pyytää automaattisesti pääkäyttäjän oikeudet ja suorittaa sovelluksen.\n\n### Vaihtoehto 2: Manuaalinen Asennus\n\n#### 1. Asenna Järjestelmäriippuvuudet\n\n**Linuxissa (Debian/Ubuntu):**\n\n```bash\nsudo apt update\nsudo apt install libpcap-dev python3-pip python3-venv\n```\n\n**Windowsissa:**\n\nAsenna Python 3.8+ osoitteesta [python.org](https://www.python.org/downloads/)\n\n#### 2. Asenna Python-riippuvuudet\n\n**Linuxissa (virtuaaliympäristöä käyttäen - suositus):**\n\n```bash\n# Luo virtuaaliympäristö\npython3 -m venv venv\n# Aktivoi virtuaaliympäristö\nsource venv/bin/activate\n# Asenna riippuvuudet\npip install flet scapy\n```\n\n**Linuxissa (järjestelmänlaajuinen asennus):**\n\n```bash\npip3 install flet scapy --break-system-packages\n```\n\n**Windowsissa:**\n\n```bash\npip install flet scapy\n```\n\n#### 3. Sovelluksen Suorittaminen\n\nKoska verkkoliikenteen nuuskiminen vaatii korotetut oikeudet, sinun on suoritettava sovellus pääkäyttäjänä tai järjestelmänvalvojana.\n\n**Linuxissa (virtuaaliympäristöllä):**\n\n```bash\nsudo venv/bin/python3 albion_insight/main.py\n```\n\n**Linuxissa (järjestelmänlaajuinen asennus):**\n\n```bash\nsudo python3 albion_insight/main.py\n```\n\n**Windowsissa (Suorita Komentokehote/PowerShell järjestelmänvalvojana):**\n\n```bash\npython albion_insight/main.py\n```\n\nSovellus avautuu natiivissa työpöytäikkunassa.\n\n## Kuinka Rakentaa Suoritettava Tiedosto\n\nSovellus voidaan paketoida itsenäiseksi suoritettavaksi tiedostoksi **PyInstallerin** avulla. Tämän ansiosta käyttäjät voivat suorittaa sovelluksen asentamatta Pythonia tai sen riippuvuuksia.\n\nYksityiskohtaiset ohjeet suoritettavien tiedostojen rakentamiseen Linuxille, Windowsille ja macOS:lle löytyvät oppaasta **[PACKAGING.md](PACKAGING.md)**.\n\n### Pikarakenne (Linux)\n\n```bash\nsource venv/bin/activate\npip install pyinstaller\npyinstaller --name "AlbionInsight" --onefile --windowed albion_insight/main.py\n```\n\nSuoritettava tiedosto sijaitsee `dist/`-kansiossa.\n\n## Projektin Rakenne\n\nSovellus on jäsennelty modulaarisiin komponentteihin paremman ylläpidettävyyden ja skaalautuvuuden vuoksi:\n\n| Tiedosto | Kuvaus |\n| :--- | :--- |\n| `albion_insight/core/` | Ydinlogiikka, verkkoseuranta, datamallit ja protokollan dekoodaus. |\n| `albion_insight/ui/` | Käyttöliittymäkomponentit, jotka on rakennettu Fletillä. |\n| `albion_insight/utils/` | Aputoiminnot, konfiguraatio ja lokitus. |\n| `albion_insight/__main__.py` | Sovelluksen käynnistyspiste. |\n| `README.md` | Tämä dokumentaatiotiedosto (englanniksi). |\n| `README.fi-FI.md` | Tämä dokumentaatiotiedosto (suomeksi). |\n| `CONTRIBUTING.md` | Ohjeet projektiin osallistumiseen. |\n| `CODE_OF_CONDUCT.md` | Projektin käytännesäännöt. |\n| `SECURITY.md` | Käytäntö tietoturva-aukkojen ilmoittamiseen. |\n\n## Nykyinen Tila (Reaaliaikainen Data)\n\nSovellus sisältää nyt **Photon Protocol Decoding** -logiikan, joka on käännetty alkuperäisestä C#-projektista. Tämän ansiosta sovellus voi käsitellä reaaliaikaisia tapahtumia, kuten `UpdateMoney`, `UpdateFame`, `KilledPlayer` ja `Died`, suoraan verkkoliikenteestä.\n\n**Huomautus:** Jokaisen yksittäisen taistelutapahtuman (kuten `CastHit`, `Attack`) täydellinen kääntäminen on käynnissä. Nykyinen toteutus keskittyy ydintilastoihin ja Vahinkomittarin rakenteeseen. Vahinkomittarin DPS-laskenta perustuu dekoodattuihin tapahtumiin.\n\n## Osallistuminen\n\nToivotamme tervetulleeksi yhteisön panoksen! Olitpa sitten kehittäjä, suunnittelija tai vain Albion Online -harrastaja, on monia tapoja auttaa parantamaan Albion Insightia.\n\nLue [Osallistumisohjeemme](CONTRIBUTING.md) saadaksesi yksityiskohtaista tietoa siitä, miten voit osallistua tähän projektiin.\n\n### Pika-aloitus Osallistujille:\n\n1.  Forkkaa arkisto: [github.com/dexcarva/AlbionInsight](https://github.com/dexcarva/AlbionInsight)\n2.  Kloonaa forkisi: `git clone https://github.com/YOUR_USERNAME/AlbionInsight.git`\n3.  Luo uusi haara: `git checkout -b feature/your-feature-name`\n4.  Tee muutokset ja committaa: `git commit -m "Lisää ominaisuutesi"`\n5.  Pushaa forkiisi: `git push origin feature/your-feature-name`\n6.  Avaa Pull Request pääarkistoon\n\n## Lisenssi\n\nTämä projekti on lisensoitu MIT-lisenssillä - katso [LICENSE](LICENSE)-tiedosto saadaksesi lisätietoja.\n\n## Kiitokset\n\n- Alkuperäinen projekti: [AlbionOnline-StatisticsAnalysis](https://github.com/Triky313/AlbionOnline-StatisticsAnalysis) by Triky313\n- Rakennettu [Flet](https://flet.dev/) -kehyksellä\n- Verkkoliikenteen analyysi perustuu [Scapyyn](https://scapy.net/)\n\n---\n*Eri alustoilla toimiva ratkaisu Albion Online -yhteisölle.*
